<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="Mapper.EventMapper">

    <!-- ID로 특정 이벤트를 선택하는 쿼리 -->
    <select id="selectEventById" parameterType="int" resultType="DTO.Event">
        SELECT event_name, event_sdate, event_edate, event_description, event_ph, event_price, event_homepage, event_poster, event_lat, event_lot, event_tag, event_address
        FROM eventDB
        WHERE event_num = #{event_num}	
    </select>

    <!-- 모든 이벤트를 선택하는 쿼리 -->
    <select id="selectAllEvents" resultType="DTO.Event">
        SELECT *
        FROM eventDB
        ORDER BY event_sdate
    </select>

    <!-- 새로운 이벤트를 데이터베이스에 삽입하는 쿼리 -->
   <insert id="insertEvent" parameterType="DTO.Event">
    INSERT INTO eventDB (
        event_num, event_name, event_sdate, event_edate, 
        event_description, event_ph, event_price, 
        event_homepage, event_poster, event_address, 
        event_tag, event_guName
    )
    VALUES (
        event_seq.NEXTVAL, #{event_name}, #{event_sdate}, #{event_edate}, 
        #{event_description}, #{event_ph}, #{event_price}, 
        #{event_homepage}, #{event_poster}, #{event_address}, 
        #{event_tag}, #{event_guName}
    )
</insert>



</mapper>
